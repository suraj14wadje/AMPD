package controller;

import Model.Student;
import Model.Submission;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

public class NewSubmission extends HttpServlet {
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

HttpSession session = request.getSession(false);
String email=[STRING_CONSTANT];
response.getWriter().println([STRING_CONSTANT]);
if(session!=null){

email=(String)session.getAttribute([STRING_CONSTANT]);

int rollno = Student.getRollNo(email);
response.getWriter().println(session.getAttribute([STRING_CONSTANT]));
if(rollno==(Integer)session.getAttribute([STRING_CONSTANT]))
{
int p_id = Integer.parseInt(request.getParameter([STRING_CONSTANT]));
Submission s1 = new Submission();
s1.setP_id(p_id);
s1.setProgram(request.getParameter([STRING_CONSTANT]));
s1.setRoll_no(rollno);
if(s1.SubmitASubmission())
{
response.getWriter().print([STRING_CONSTANT]);
}

if(s1.ProcessSubmission())
{
response.getWriter().print([STRING_CONSTANT]);
}


}



}
else {
}
}

protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

}
}
